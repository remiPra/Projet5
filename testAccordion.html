<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tiny.cloud/1/6ztoevx7at9ej6dibcvmhjeda1slkeqw64zucs9bcodphk4p/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
  
    <!-- polices -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">

     <!-- integration de la librairie axios -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js"></script>
    <!-- integration de la librairie aos -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/aos@2.3.0/dist/aos.css">
    <script src="https://unpkg.com/aos@2.3.0/dist/aos.js"></script> -->
    <!-- bootstrap -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- integration de vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- integration de font-awesome -->
    <script src="https://kit.fontawesome.com/5a70a7892a.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<style>
    #containerAnswer {
        overflow: hidden;
        border:2px color pink;
        background-color: white;
    }
    .accordion h3 {
        background-color: violet;
        margin-bottom: 10px;
        font-size: 14px;
        font-weight: 500;
        -webkit-box-shadow: 0 7px 20px -10px #000;
        -moz-box-shadow: 0 7px 20px -10px #000;
        box-shadow: 0 7px 20px -10px #000;
        padding: 20px;
        z-index:123
    }
    .accordeon p{
        z-index:-1;
        overflow: hidden;
    }
    .accordeonShowOpen {
        animation: accordeonOpen 2s forwards;
    }
    .accordeonShowClose {
        animation : accordeonClose 1s forwards;
    }

    @keyframes accordeonOpen {
        0% {
            height :5px
        }
        100%{
            height:300px
        }
    }
    @keyframes accordeonClose {
        0% {
            height :300px           
        }
        20% {
            height:0px
        }
        100%{
            height:0px
        }
    }
</style>

<body>
    <div id="app">
        <div class="accordion">
          
            <!-- boucle for qui va cette fois ci prendre en parametre question dans faq.questions -->
            <template v-for="(question,i) in faq.questions">
                <!-- vs click  -->
                <div class="row">
                    <h3 class="w-75">
                        <!-- class en vue avec classe active pour actif-->
                        {{ question.sentence }}    
                    </h3>
                    <button class="w-25" @click="showEffect(i)">ok</button>
                </div>
                    <div id="containerAnswer":class="question.effect">
                    <p >
                        {{ question.answer }}
                    </p>
                    
                </div>
            </template>
            <button @click="tynimce">tinymce</button>
            <textarea name="" id="" cols="30" rows="10"></textarea>
            <textarea style="display:none" name="" id="" cols="30" rows="10"></textarea>
        </div>
    </div>
    <script>
        new Vue({
            el: "#app",
            data: {
                faq: {
                    currentQuestion: 0,
                    questions: [{
                        sentence: 'Started several mistake joy say painful removed reached end',
                        answer: 'Far curiosity incommode now led smallness allowance. Favour bed assure son things yet. She consisted consulted elsewhere happiness disposing household any old the.Widow downs you new shade drift hopes small.So otherwise commanded sweetness we improving.'
                        , effect: "displayNone"
                    },
                    {
                        sentence: 'Although moreover mistaken kindness me feelings do be marianne?',
                        answer: 'Far curiosity incommode now led smallness allowance. Favour bed assure son things yet. She consisted consulted elsewhere happiness disposing household any old the.Widow downs you new shade drift hopes small.So otherwise commanded sweetness we improving.'
                        , effect: "displayNone"
                    },
                    {
                        sentence: 'By in no ecstatic wondered disposal my speaking?',
                        answer: 'Far curiosity incommode now led smallness allowance. Favour bed assure son things yet. She consisted consulted elsewhere happiness disposing household any old the.Widow downs you new shade drift hopes small.So otherwise commanded sweetness we improving.'
                        , effect: "displayNone"
                    }
                    ]
                }
            },
            methods: {
                tynimce(){
                    tinymce.init({
                            selector: 'textarea'
                        })
                },
                showEffect(i) {
                    //if(this.click==0){
                    this.faq.currentQuestion = i
                    console.log(i)
                    console.log(this.faq.questions.length)
                    console.log(this.faq.questions[this.faq.currentQuestion])
                    for(let index = 0; index < this.faq.questions.length; index++){
                       
                        if(index == i && this.faq.questions[index].effect != "accordeonShowOpen"){
                            this.faq.questions[index].effect = "accordeonShowOpen"
                            console.log("default" + index)
                        }
                        else if (index == i && this.faq.questions[index].effect == "accordeonShowOpen") {
                            this.faq.questions[index].effect = "accordeonShowClose"
                            console.log("success" + index)
                        }
                        else if (index !=i && this.faq.questions[index].effect == "accordeonShowOpen"){
                            this.faq.questions[index].effect = "accordeonShowClose"
                            console.log("default" + index)
                        } 
                        else if(index !=i){
                            this.faq.questions[index].effect = "displayNone"
                            console.log("none" + index)
                        }
                    }
                    
                }   
            }
        })
    </script>
</body>

</html>